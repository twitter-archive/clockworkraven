-# Copyright 2012 Twitter, Inc. and others.
-#
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-#     http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.

%h1 Evaluations

= link_to 'Create New Evaluation', new_evaluation_path, :class => 'btn btn-primary'

%table.table{ :id => "evaluations_table", :class => "display table-striped", "data-source" => evaluations_url(format: "json") }
  %thead
    %tr
      %th Name
      %th Mode
      %th Status
      %th Creator
      %th Created At
      %th.empty
      %th.empty
      %th.empty
  %tbody

:javascript
  $(document).ready( function () {
    $.extend( $.fn.dataTableExt.oStdClasses, {
      "sWrapper": "dataTables_wrapper form-inline"
    } );
    $('#evaluations_table').dataTable( {
      "aoColumnDefs" : [
        { "bSortable" : false, "aTargets" : ["empty"] }
      ],
      "sDom": "<'row'<'span6'l><'span6'f>r>t<'row'<'span6'i><'span6'p>>",
      "bSortClasses" : false,
      "sPaginationType": "full_numbers",
      "bProcessing": true,
      "bServerSide": true,
      "sAjaxSource": $('#evaluations_table').data('source')
    } ).fnSort( [[4, 'desc']] );
  } );
